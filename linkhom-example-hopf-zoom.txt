// Hopf link ///////////////////////////////////////////
option(noredefine);option(noloadLib);option(redSB);
LIB "blow.lib";
LIB "linkhom.lib";
LIB "matrix.lib";
LIB "control.lib";
LIB "mfweb.lib";
ring rr=0,(x(1..4)),dp;
int N = 11; // The N in sl(N) link homology
printlevel = 1;

list hopfLink = linkLibrary("hopf");

list h = linkCompile(hopfLink, "./data/hopf-N" + string(N) + "-zoom.mp", N);

list cp = KRcomplex(hopfLink, h, N);

ring ss=(0,t,q),(x),dp;

list cp = imap(rr,cp);
list cohom = computeCohomology(cp);
number euler = gradedEuler(cohom,q); euler;
number poincare = gradedPoincare(cohom, q, t); poincare;

// Jones polynomial: (q6+q4+q2+1)

// KR invariants /////////////////////

// N = 2 (t2q2+t2+q6+q4)/(t2)
// Agrees Gukov-Iqbal-Kozcaz-Vafa 07 (GIKV) p.15

// N = 3 (t2q4+t2q2+t2+q10+2q8+2q6+q4)/(t2)
// Agrees GIKV.

// N = 4 (t2q6+t2q4+t2q2+t2+q14+2q12+3q10+3q8+2q6+q4)/(t2)
// Agrees GIKV.

// N = 5 (t2q8+t2q6+t2q4+t2q2+t2+q18+2q16+3q14+4q12+4q10+3q8+2q6+q4)/(t2)
// Agrees GIKV.

// N = 6 (t2q10+t2q8+t2q6+t2q4+t2q2+t2+q22+2q20+3q18+4q16+5q14+5q12+4q10+3q8+2q6+q4)/(t2)
// N = 7 (t2q12+t2q10+t2q8+t2q6+t2q4+t2q2+t2+q26+2q24+3q22+4q20+5q18+6q16+6q14+5q12+4q10+3q8+2q6+q4)/(t2)
// N = 8 (t2q14+t2q12+t2q10+t2q8+t2q6+t2q4+t2q2+t2+q30+2q28+3q26+4q24+5q22+6q20+7q18+7q16+6q14+5q12+4q10+3q8+2q6+q4)/(t2)
// N = 9 (t2q16+t2q14+t2q12+t2q10+t2q8+t2q6+t2q4+t2q2+t2+q34+2q32+3q30+4q28+5q26+6q24+7q22+8q20+8q18+7q16+6q14+5q12+4q10+3q8+2q6+q4)/(t2)
// N = 10 (t2q18+t2q16+t2q14+t2q12+t2q10+t2q8+t2q6+t2q4+t2q2+t2+q38+2q36+3q34+4q32+5q30+6q28+7q26+8q24+9q22+9q20+8q18+7q16+6q14+5q12+4q10+3q8+2q6+q4)/(t2)
// N = 11 (took 275554650ms, i.e. roughly 77 hours, on lully)(t2q20+t2q18+t2q16+t2q14+t2q12+t2q10+t2q8+t2q6+t2q4+t2q2+t2+q42+2q40+3q38+4q36+5q34+6q32+7q30+8q28+9q26+10q24+10q22+9q20+8q18+7q16+6q14+5q12+4q10+3q8+2q6+q4)/(t2)


option(noredefine);option(noloadLib);option(redSB);//option(prot);
LIB "blow.lib";
LIB "linkhom.lib";
LIB "matrix.lib";
LIB "control.lib";
LIB "mfweb.lib";
ring rr=0,(x(1..4)),dp;
int N = 2; // The N in sl(N) link homology
printlevel = 1;

list hopfLink = linkLibrary("hopf");
list h = linkCompileReduced(hopfLink, "hopf-N" + string(N) + "-zoom-reduced.mp", N, x(1), 0);
list cp = KRcomplex(hopfLink, h, N);

ring ss=(0,t,q),(x),dp;

list cp = imap(rr,cp);
list cohom = computeCohomology(cp);
number euler = gradedEuler(cohom,q);
euler;

// The KR homology is described by its Poincare polynomial
number poincare = gradedPoincare(cohom, q, t);
poincare;

// N = 2 and useDegree = 0: (q4+1)
euler * ( (q^N - 1/q^N)/(q - 1/q) );
// off by a factor of q

// N = 2 and useDegree = 1: (q5+q)
euler * ( (q^N - 1/q^N)/(q - 1/q) );
// = (q6+q4+q2+1), the Jones poly
